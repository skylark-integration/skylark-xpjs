var date_regex=/^(Today|Yesterday|(0?[1-9]|[12][0-9]|3[01])\s(January|February|March|April|May|June|July|August|September|October|November|December)\s\d{4})$/;const fullMonthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],monthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdayfullname=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdayname=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];$(document).ready(function(){jQuery("#profile1_image,#profile2_image,.iphone-date,.iphone-date-text").hide();jQuery("#profile1_message,#profile2_message,.date,.date-text").show();$("input[type=radio][name=wp_chat_visibleforLayout]").change(function(){if("android"==this.value){jQuery(".android-header.white-content,.whatsapp-text-img.received-carat").show();jQuery(".whatsapp-text-img.sent-carat").show();jQuery(".iphone-bottom,.iphone-date,.iphone-date-text").hide();jQuery(".whatapp-android-footer,.date-text").show();jQuery(".wp-android").show();jQuery(".wp-ios").hide();jQuery(".whatapp-ios-footer").hide();jQuery(".chat-timer-wrap").removeClass("chat-timer-ios");jQuery(".whatsapp-body").removeClass("whatsapp-body-ios");$(".battery-status").text($("#Battery_percent").val()+"%")}else if("iphone"==this.value){jQuery(".android-header.white-content").hide();jQuery(".whatsapp-text-img.received-carat").hide();jQuery(".whatsapp-text-img.sent-carat").hide();jQuery(".iphone-bottom,.iphone-date,.iphone-date-text").show();jQuery(".whatapp-android-footer,.date,.date-text").hide();jQuery(".wp-android").hide();jQuery(".wp-ios").show();jQuery(".whatapp-ios-footer").show();jQuery(".whatsapp-body").addClass("whatsapp-body-ios");jQuery(".chat-timer-wrap").addClass("chat-timer-ios");$(".battery-status").text($("#Battery_percent").val())}});$("#battery_options").change(function(){$(".battery-container").removeClass("battery-horizontal battery-vertical-one battery-vertical-two");$(".battery-container").addClass($(this).val())});$("#msg_dis_input").hide();$("#msg_disappearing").click(function(){$(this).is(":checked")?$("#msg_dis_input").show():$("#msg_dis_input").hide()});$("input[type=radio][name=msg-option]").change(function(){if("disappearing"==this.value){$(".messagetaboptions").hide();$(".disappearingtaboptions").show()}else{$(".disappearingtaboptions").hide();$(".messagetaboptions").show()}});$("#disappearing_option").change(function(){disappearing_option(this.value)});$("#bt_per").click(function(){$(this).is(":checked")?$(".battery-container").removeClass("hide-percentage"):$(".battery-container").addClass("hide-percentage")});$("#networ_speed").change(function(){$(".show-network").removeClass("n5g n4g n3g n2g nwifi");$(".show-network").addClass($(this).val())});$(".message-date-input").hide();$("#chat_date").change(function(){"otherdate"==$(this).val()?$(".message-date-input").show():$(".message-date-input").hide()});$("#dark_theme").change(function(){if($(this).prop("checked")){jQuery(".wa-theme").addClass("dark-theme");$(".msg-arrow-left").css("fill","#202c33");$(".msg-arrow-right").css("fill","#005c4b")}else{jQuery(".wa-theme").removeClass("dark-theme");$(".msg-arrow-left").css("fill","#ffffff");$(".msg-arrow-right").css("fill","#e6ffda")}});$("#time-format").change(function(){if($(this).prop("checked")){var e=onTimeChangein24($("#edit-2-Clock").val());$(".msg-time").each(function(e,a){$(this).text(onTimeChangein24($(this).data("time")))})}else{e=onTimeChange($("#edit-2-Clock").val());$(".msg-time").each(function(e,a){$(this).text(onTimeChange($(this).data("time")))})}$(".status-time").text(e)});$('#options input[type="text"], #options textarea').keyup(function(){if(e=$(this).attr("data-edit")){var e,a=$(this).val();""==a&&(a="...");if("likes"==(e=e.replace("edit-",""))&&"..."==a){$(".post_likes").css("display","none");$(".post_write_comment").css("display","none")}else if("likes"==e&&"..."!=a){$(".post_likes").css("display","block");$(".post_write_comment").css("display","block")}$(".text-"+e).html(a);"name"==e&&$(".theName").text(a)}});$("#profile1_name").keyup(function(){var e=remvoeBadWord($(this).val());if(19<e.length){var a=e.substr(0,17)+"...";$(".text-name").text(a)}else $(".text-name").text(e)});$('#left-panel input[name="ch_rtl"]').change(function(){if("ltr"==$(this).val()){$("#download").css("direction","ltr");$("#download .pull-left").attr("style","float:left !important");$("#download .pull-right").attr("style","float:right !important");$(".ltr").show();$(".rtl").hide();$(".message-received .message-container").css({"margin-right":"auto","margin-left":"0","padding-right":"50px"});$(".message-received .message-avatar").css({right:"auto",left:"0"});$(".message-received .message-footer").css({"padding-left":"58px","padding-right":"50px"});$(".tw .message-sent .message-avatar").css({left:"auto",right:"0"});$(".message-sent .message-container").css({"margin-left":"auto","margin-right":"0"});$(".tw .message-sent .message-footer").css({float:"right","padding-left":"50px","padding-right":"58px"});$(".message-received .message-bubble").removeClass("Caret-right").addClass("Caret-left");$(".message-sent .message-bubble").removeClass("Caret-left").addClass("Caret-right");$(".modal-footer").css({"text-align":"right"});$(".tweet-action").css({"margin-left":"0px"})}else{$("#download .pull-left,#download .pull-right,.tweet-action,.modal-footer,.tw .message-sent .message-footer,.message-sent .message-container,.tw .message-sent .message-avatar,.message-received .message-container,.message-received .message-footer,.message-received .message-avatar").removeAttr("style");$("#download").css("direction","rtl");$(".rtl").show();$(".ltr").hide();$(".message-received .message-bubble").removeClass("Caret-left").addClass("Caret-right");$(".message-sent .message-bubble").removeClass("Caret-right").addClass("Caret-left")}});$("#visiblefooter").click(function(){$("input#visiblefooter").is(":checked")?$(".all_footer_wp").hide():$(".all_footer_wp").show()});$("#add_payment").click(function(){$("input#add_payment").is(":checked")?$(".moneyicon").hide():$(".moneyicon").show()});$("#visibleHeader").click(function(){if($("input#visibleHeader").is(":checked")){$(".android-header").hide();$(".ios-header").hide()}else{$(".android-header").show();$(".ios-header").show()}});$("#wh_sim").click(function(){$("input#wh_sim").is(":checked")?$(".network-two").removeClass("hide"):$(".network-two").addClass("hide")});$("#wh_sim").click(function(){$("input#wh_sim").is(":checked")?$(".phone-network").addClass("sim2"):$(".phone-network").removeClass("sim2")});$("input[type=radio][name=visibleforLayout]").change(function(){if("android"==this.value){jQuery(".whatsapp-android-header").show();jQuery(".whatsapp-ios-header").hide();jQuery(".whatsapp-content").addClass("whatsapp-android-content");jQuery(".whatsapp-text-img.received-carat").show();jQuery(".whatsapp-text-img.sent-carat").show();jQuery(".iphone-bottom.iphone-green-bottom").hide();jQuery(".iphone-bottom").hide();jQuery(".whatapp-ios-footer").hide();jQuery(".whatapp-android-footer").show()}else if("iphone"==this.value){jQuery(".whatsapp-android-header").hide();jQuery(".whatsapp-ios-header").show();jQuery(".whatsapp-content").removeClass("whatsapp-android-content");jQuery(".whatsapp-text-img.received-carat").hide();jQuery(".whatsapp-text-img.sent-carat").hide();jQuery(".iphone-bottom.iphone-green-bottom").show();jQuery(".iphone-bottom").show();jQuery(".whatapp-ios-footer").show();jQuery(".whatapp-android-footer").hide()}});$("#edit-tagname").keyup(function(){var e=$(this).val();$(".header-title").text("@"+e)});$("#edit-2-Clock").keyup(function(){var e=($("#time-format").prop("checked")?onTimeChangein24:onTimeChange)($(this).val());$(".status-time").text(e)});$("#edit-2-Clock").change(function(){var e=($("#time-format").prop("checked")?onTimeChangein24:onTimeChange)($(this).val());$(".status-time").text(e)});$("#Battery_percent").keyup(function(){e()});$("#Battery_percent").change(function(){e()});function e(e){(e=100<(e=$("#Battery_percent").val())?100:e)<0&&(e=0);$("#Battery_percent").val(e);$(".battery-level").removeClass("red");e<=15&&$(".battery-level").addClass("red");$(".battery-level").css("width",e+"%");$("input#iphone_wp").is(":checked")?$(".battery-status").text(e):$(".battery-status").text(e+"%")}$("#edit-Status").keyup(function(){var e=$(this).val();$(".header-title").text(e)})});function addComment(e){$("input[name='read'][value='read']").prop("checked")&&0;$("input[name='read'][value='unread']").prop("checked")&&0;$("#"+e).attr("src");var a,s=$("textarea#"+e+"_message").val(),t=$("."+e).val();$("input#"+e+"_date").val();if("ltr"==$('#left-panel input[name="ch_rtl"]:radio:checked').val()){rtl_r_av=' style="right: auto; left: 0;"';rtl_r_m=' style="margin-right: auto; margin-left: 0; padding-right: 50px"';rtl_r_mf=' style="padding-left: 58px; padding-right: 50px"';rtl_s_av=' style="right: 0; left: auto;"';rtl_s_m=' style="margin-left: auto; margin-right: 0"';rtl_s_mf=' style="float: right; padding-left: 50px; padding-right: 58px"'}else rtl_r_av=rtl_s_av=rtl_r_m=rtl_r_mf=rtl_s_m=rtl_s_mf="";"profile1"==e?(a="received",0):"profile2"==e&&(a="sent",0);var e="",i="",n="",r="";if($("input#android_wp").is(":checked")){e='<div class="whatsapp-text-img received-carat"><img src="/assets/images/anroid-whatsapp-left-carat.png"></div>';i='<div class="whatsapp-text-img sent-carat"><img src="/assets/images/anroid-whatsapp-right-carat.png"></div>';n='<div class="iphone-bottom" style="display:none"><img src="/assets/images/iphone-message-grey-bottom.png"></div>';r='<div class="iphone-bottom iphone-green-bottom" style="display:none"><img src="/assets/images/iphone-message-green-bottom.png"></div>'}if($("input#iphone_wp").is(":checked")){e='<div class="whatsapp-text-img received-carat" style="display:none"><img src="/assets/images/anroid-whatsapp-left-carat.png"></div>';i='<div class="whatsapp-text-img sent-carat" style="display:none"><img src="/assets/images/anroid-whatsapp-right-carat.png"></div>';n='<div class="iphone-bottom"><img src="/assets/images/iphone-message-grey-bottom.png"></div>';r='<div class="iphone-bottom iphone-green-bottom"><img src="/assets/images/iphone-message-green-bottom.png"></div>'}var o="";$("input#none").is(":checked")&&(o="");$("input#unread").is(":checked")&&(o='<img src="/assets/images/check-sent.png">');$("input#readone").is(":checked")&&(o='<img src="/assets/images/check-delivered.png">');$("input#read").is(":checked")&&(o='<img src="/assets/images/check-read.png">');var d=jQuery("#time-profile1").val(),l=jQuery("#time-profile2").val();if(""<s||""<t){t="",t=hasWhiteSpace(s)?"<p>"+s+"<p>":'<p style="word-break:break-all;">'+s+"<p>";if("received"!=a){if($("#profile2_radio_image").is(":checked")){p='<div class="message message-received is-not"><div class="message-container u-table whatsapp-received"><div class="message-message u-tableCell u-alignBottom"><div class="message-bubble Caret Caret-right whatsapp-caret">'+e+'<div class="message-text whatsapp-text"><img src="'+($imageurl=$("#profile1_image").data("imageurl"))+'" class="received-img"><div class="message-read-status"><span class="message_time">'+d+"</span></div></div>"+n+"</div></div></div></div>";$("#profile1_image").data("imageurl","");$("#profile1_image").attr("style","display: flex;");$(".profile1").val("");p='<div class="message message-sent is-not"><div class="message-container u-table whatsapp-sent"><div class="message-message u-tableCell u-alignBottom"><div class="message-bubble Caret Caret-left whatsapp-caret">'+i+'<div class="message-text whatsapp-text">'+t+'<div class="message-read-status"><span>'+l+'</span> <div class="message-status">'+o+"</div></div></div>"+r+"</div></div></div></div>"}$(p).hide();return!1}if($("#profile1_radio_image").is(":checked")){var p='<div class="message message-received is-not"><div class="message-container u-table whatsapp-received"><div class="message-message u-tableCell u-alignBottom"><div class="message-bubble Caret Caret-right whatsapp-caret">'+e+'<div class="message-text whatsapp-text"><img src="'+($imageurl=$("#profile1_image").data("imageurl"))+'" class="received-img"><div class="message-read-status"><span class="message_time">'+d+"</span></div></div>"+n+"</div></div></div></div>";$("#profile1_image").data("imageurl","");$("#profile1_image").attr("style","display: flex;");$(".profile1").val("")}else{var p='<div class="message message-received is-not"><div class="message-container u-table whatsapp-received"><div class="message-message u-tableCell u-alignBottom"><div class="message-bubble Caret Caret-right whatsapp-caret">'+e+'<div class="message-text whatsapp-text">'+t+'<div class="message-read-status"><span class="message_time">'+d+"</span></div></div>"+n+"</div></div></div></div>";$("#profile1_message").val("")}}}var $profileCrop,$backgroundCrop,$base_url=$("#js_data").data("base-url");$(".error-msg").hide();$("input[name='profile-img']").on("change",function(e){e.stopPropagation();if("error"==($img_src=getImagePath($(this),e))){$(this).val("");$(".error_msg").html('<div class="msg-pop error-pop"><p>File formats should be .jpg, .jpeg, .png, and .svg.</p></div>');$(".error_msg").attr("style","display:flax");setTimeout(function(){$(".error_msg").attr("style","display:none")},6e3)}else{e=$img_src;jQuery(".modal-title-img.whatsapp-android-img img").attr("src",e);jQuery(".modal-title-img.whatsapp-ios-img img").attr("src",e)}});$(".edit-text").on("click",function(e){editText($(this))});function editText(e){$(".edit-text").show();$(".main-input-text").hide();$(".main-input-text,.date-info-icon").hide();e.hide();e.parents(".input-main-div").find(".main-input-text,.date-info-icon").show().select()}$(document).click(function(e){if(!$(e.target).is(".input-main-div,.input-main-div *")){$(".edit-text").show();$(".main-input-text,.date-info-icon").hide();$(".main-input-text").keyup(function(e){inputKeyUp($(this),e)})}});function disappearing_option(e){if("Sent"==(messageSendType=$("input[name='message-send-type']:checked").val()))"24"==e?$(".message-input-disappearing").val("You turned on disappearing messages. New messages will disappear from this chat 24 hours after they're sent, except when kept. Click to change."):"7"==e||"30"==e||"90"==e?$(".message-input-disappearing").val("You updated the message timer. New messages will disappear from this chat "+e+" days after they're sent, except when kept. Click to change."):"off"==e&&$(".message-input-disappearing").val("You turned off disappearing messages. Click to change.");else if("Receive"==messageSendType){var a=$(".wp-android-header .name-text").text();"24"==e?$(".message-input-disappearing").val(a+" turned on disappearing messages. New messages will disappear from this chat 24 hours after they're sent, except when kept. Click to change."):"7"==e||"30"==e||"90"==e?$(".message-input-disappearing").val(a+" updated the message timer. New messages will disappear from this chat "+e+" days after they're sent, except when kept. Click to change."):"off"==e&&$(".message-input-disappearing").val(a+" turned off disappearing messages. Click to change.")}}function inputKeyUp(e,a){if(13==a.which){$(".edit-text").show();$(".main-input-text,.date-info-icon").hide()}else{var a="",s=text1=e.val();!(19<s.length)||e.hasClass("disappear-input")?a+=text1:a+=text1.substr(0,19)+"...";$nameClass=e.data("class");console.log($nameClass);if("date"==$nameClass.replace(/[0-9]/g,"")){if(""!=s&&s.match(date_regex)){$("."+$nameClass+"-text").text(s);$("."+$nameClass+"-input").val(s);idate="Today"!=s&&"Yesterday"!=s?getIdate(new Date(s)):s;$(".iphone-"+$nameClass+"-text").text(idate);$(".iphone-"+$nameClass+"-input").val(idate)}}else{$("."+$nameClass+"-text").text(a);$("."+$nameClass+"-input").val(a)}}}$(".main-input-text").keyup(function(e){$(this).val(remvoeBadWord($(this).val()));inputKeyUp($(this),e)});$(".message-input").keyup(function(e){""!=$(this).val()?$(".tip-text").show():$(".tip-text").hide();13!=e.which||e.shiftKey||$("#send-msg-btn").click()});$(".message-date-input").keyup(function(e){$dateVal=$(this).val();if(""!=$dateVal&&$dateVal.match(date_regex)){$idateVal="Today"!=$dateVal&&"Yesterday"!=$dateVal?getIdate(new Date($dateVal)):$dateVal;$boxId=$(".message-box-id").val();if(0<$(".date-label.new").length){$(".date-label.new").find(".edit-text span.date-text").html($dateVal);$(".date-label.new").find(".edit-text span.iphone-date-text").html($idateVal);$(".date-label.new").find(".main-input-text.date").val($dateVal);$(".date-label.new").find(".main-input-text.iphone-date").val($idateVal)}else{var a=$("#iphone_wp").prop("checked")?'style="display:none"':'style="display: block;"',s=$("#android_wp").prop("checked")?'style="display:none"':'style="display: block;"';$lableNum=Number($(".lable-box-num").val())+1;$dateLabel=""!=$dateVal.trim()?'<div class="date-label input-main-div darg-icon new"><p class="text-name d-flex align-items-center m-0 edit-text" onclick="editText($(this));"><span class="date-text date'+$lableNum+'-text" '+a+">"+$dateVal+'</span><span class="iphone-date-text iphone-date'+$lableNum+'-text" '+s+">"+$idateVal+'</span><i class="fa fa-pencil" aria-hidden="true"></i><span class="btn-remove" onclick="deleteDate($(this))"><i class="fa fa-times-circle" aria-hidden="true"></i></span></p><div class="info-wrap p-0"><input class="text-name wp-head-name main-input-text date date'+$lableNum+'-input" data-class="date'+$lableNum+'" value="'+$dateVal+'"><span class="tooltip-info date-info-icon" data-toggle="tooltip" data-tooltip-title="The date format should be like this: (“26 November 2003”), Make sure the first letters of “Today”, “Yesterday”, and “Month Name” are capitalized."><i class="fa fa-info-circle" aria-hidden="true"></i></span></div></div>':"";if(""!=$boxId){$id="#message-box"+$boxId;$($dateLabel).insertBefore($id)}else $("#mainbodydiv").append($dateLabel);$(".lable-box-num").val($lableNum)}}});$(".lg-view").click(function(){$("#android_wp").prop("checked",!0);jQuery(".android-header.white-content,.whatsapp-text-img.received-carat,.whatsapp-text-img.sent-carat,.whatapp-android-footer,.date-text,.wp-android").show();jQuery(".iphone-bottom,.iphone-date,.iphone-date-text,.wp-ios,.reply-phone-text,.whatapp-ios-footer").hide();jQuery(".reply-pc-text").attr("style","display: inline");$(".reply-img-icon").attr("src",$base_url+"assets/images/whatsapp-image-icon.svg?gdfgdf");screen.width<=991&&$(".rotate-divaice").addClass("active")});$(".sm-view").click(function(){jQuery(".reply-pc-text").hide();jQuery(".reply-phone-text").attr("style","display: inline");$(".reply-img-icon").attr("src",$base_url+"assets/images/whatsapp-image-icon-m.svg?dfhgdfgdf");$(".rotate-divaice").removeClass("active")});$(".add-message-input-btn").click(function(){if("close"==$(".main-modal-div").data("mode")){$("body").addClass("body-fixed");$(".date-label.new").removeClass("new");if(""!=$(".message-box-id").val("")){$(".message-input,.hidden-message-image,.sender-name-input,.message-image-input,.message-box-id").val("");jQuery(".file-preview,.temp-reply-box").html("");$("#sent,#message_sent").prop("checked",!0);$(".sender-name-main-div,.error-msg,.file-exists,.tip-text").hide();jQuery(".fileinput-new,.message-status-main-div").show();$(".message-input,.message-date-input").removeClass("error")}$(".main-modal-div").data("mode","open").show();$(".message-input").select();$("html, body").animate({scrollTop:$("#mainbodydiv").offset().top},500)}});$(".close-btn").click(function(){$("body").removeClass("body-fixed");$(".main-modal-div").data("mode","close").hide()});$("#btn-reset-chat").click(function(){confirm("Are you sure you want to reset the chat? Messages in chat will disappear forever.")&&location.reload()});$("input[name='message-send-type']").change(function(){if("Receive"==$(this).val()){$(".sender-name-main-div").show();$(".message-status-main-div").hide();$("#msg_dis_input").val("")}else{$(".sender-name-main-div").hide();$(".message-status-main-div").show();$("#msg_dis_input").val("")}"disappearing"==$("input[name='msg-option']:checked").val()&&disappearing_option($("#disappearing_option").val())});$("input[name='message-image-input']").on("change",function(e){e.stopPropagation();if("error"==($img_src=getImagePath($(this),e))){$(this).val("");$(".error_msg").html('<div class="msg-pop error-pop"><p>File formats should be .jpg, .jpeg, .png, and .svg.</p></div>');$(".error_msg").attr("style","display:flax");setTimeout(function(){$(".error_msg").attr("style","display:none")},6e3)}else{e=$img_src;jQuery(".fileinput-new").hide();jQuery(".file-exists").show();jQuery(".file-preview").html("<img src='"+e+"'>");jQuery(".hidden-message-image").val(e)}});$(".select-name-color").on("click",function(e){$(".pop-color-picker").attr("style","display: grid")});$(".pop-color-picker .color-box").on("click",function(e){$colorCode=$(this).find("span").data("color");$(".hidden-color-code").val($colorCode);$(".sender-name-input").attr("style","color: "+$colorCode);$(".pop-color-picker").hide()});$(".color-pop-close-btn").click(function(){$(".pop-color-picker").hide()});function editMsg(e,a){$text=$("#message-box"+e).find(".text-msg").html();$time=$("#message-box"+e).find(".msg-time").data("time");$status=$("#message-box"+e).find(".msg-status").data("status");$senderName=$("#message-box"+e).find(".sender-name").html();$msgImage=$("#message-box"+e).find(".msg-image").attr("src");a=$("#message-box"+e).find(".edit-delete-popup").data("type");$colorCode=$("#message-box"+e).find(".sender-name").data("color");$replayed_msg=$("#message-box"+e).find(".replayed-msg").html();$(".message-input").val($text);$(".sender-name-input").val($senderName);$(".hidden-message-image").val($msgImage);$(".message-time-input").val($time);$(".message-box-id").val(e);$("input[name='message-status-input']").prop("checked",!1);$("#"+$status).prop("checked",!0);if("receive"==a){$("#message_receive").prop("checked",!0);$(".sender-name-main-div").show();$(".message-status-main-div").hide()}else{$("#message_sent").prop("checked",!0);$(".sender-name-main-div").hide();$(".message-status-main-div").show()}""!=$colorCode&&$(".sender-name-input").attr("style","color : "+$colorCode);if(""!=$msgImage&&null!=$msgImage&&"undefined"!=$msgImage){jQuery(".fileinput-new").hide();jQuery(".file-exists").show();jQuery(".file-preview").html("<img src='"+$msgImage+"'>")}else{jQuery(".fileinput-new").show();jQuery(".file-exists").hide();jQuery(".file-preview").html("")}$(".temp-reply-box").html("");$("body").addClass("body-fixed");$(".main-modal-div").data("mode","open").show();""!=$replayed_msg&&null!=$replayed_msg&&$(".temp-reply-box").html('<div class="replayed-msg">'+$replayed_msg+"</div>");$("html, body").animate({scrollTop:$(".main-modal-div").offset().top},1e3)}function deleteMsg(e,a){confirm("Are you sure you want to delete this message?")&&$("#message-box"+e).remove()}function deleteDate(e){confirm("Are you sure you want to delete this date?")&&e.parents(".input-main-div").remove()}function deleteDatedisappear(e){confirm("Are you sure you want to delete this date?")&&e.parents(".input-main-div").remove()}function replyMsg(e,a){var s=$("#js_data").data("base-url");$text=$("#message-box"+e).find(".text-msg").html();$time=$("#message-box"+e).find(".msg-time").data("time");$status=$("#message-box"+e).find(".msg-status").data("status");$senderName=$("#message-box"+e).find(".sender-name").html();$msgImage=$("#message-box"+e).find(".msg-image").attr("src");a=$("#message-box"+e).find(".edit-delete-popup").data("type");$colorCode=$("#message-box"+e).find(".sender-name").data("color");if(($img=$img1=fontSize="")!=$msgImage&&null!=$msgImage){$img='<div class="pre-reply-image"><span style="background-image: url('+$msgImage+')"></span></div>';$imgtype=""!=$(".mobile_view").html()&&null!=$(".mobile_view").html()?"whatsapp-image-icon-m.svg?gdfgdf":"whatsapp-image-icon.svg?gfhgfhfh";$img1='<img src="'+s+"assets/images/"+$imgtype+'" alt="Image" class="reply-img-icon">';fontSize=6.3}if(($msg="")!=$text&&null!=$text){$dType=""!=$(".mobile_view").html()&&null!=$(".mobile_view").html()?'style="display: inline;"':'style="display: none;"';$dType1=""!=$(".desktop_view").html()&&null!=$(".desktop_view").html()?'style="display: inline;"':'style="display: none;"';s=$("#message-box"+e+" .text-msg"),e=parseInt(s.css("line-height"),10);if(3<s.height()/e){e=1==$(".right-part").hasClass("desktop_view")?s.width()-301:s.width();$fs=""==fontSize?4.7:fontSize;$t1=line_clamp(s,$fs,e);e=1==$(".right-part").hasClass("desktop_view")?s.width():s.width()+301;$fs=""==fontSize?4.6:4.8;$t2=line_clamp(s,$fs,e)}else $t2=$t1=$text;$msg='<div class="line-clamp"><span class="pre-reply-text reply-phone-text" '+$dType+">"+$t1+'</span><span class="pre-reply-text reply-pc-text" '+$dType1+">"+$t2+"</span></div>"}else $msg='<div class="line-clamp"><span class="pre-reply-text">Photo</span></div>';$name="";if("sent"==a){$name="You";$colorCode="#128C7E"}else{$colorCode=""!=$colorCode&&null!=$colorCode?$colorCode:"#128C7E";$name=""!=$senderName&&null!=$senderName?$senderName:$(".name-text").html()}$replyMsgText='<div class="replayed-msg"><span class="reply-box" style="border-left: 3px solid '+$colorCode+';"><p class="mname pre-reply-name" style="color: '+$colorCode+';">'+$name+'</p><div class="mname">'+$img1+$msg+"</div></span>"+$img+"</div>";$(".add-message-input-btn").click();$(".temp-reply-box").html($replyMsgText);$("html, body").animate({scrollTop:$(".main-modal-div").offset().top},1e3)}$("#send-msg-btn").click(function(){$messageSendType=$("input[name='message-send-type']:checked").val();$messageText=$(".message-input").val();$messageTime=$(".message-time-input").val();$messageImage=$(".hidden-message-image").val();$messageColor=$(".hidden-color-code").val();$senderName=$(".sender-name-input").val();msgdis=$(".message-input-disappearing").val();msg_option=$("input[name='msg-option']:checked").val();$messageStatus=$("input[name='message-status-input']:checked").val();$messageBoxId=$(".message-box-id").val();if("otherdate"==$("#chat_date").val()){var e=$(".message-date-input").val().split("-"),a=parseInt(e[0]),s=parseInt(e[1]),e=parseInt(e[2]);$messageDate=e+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][s-1]+" "+a}else $messageDate="none"==$("#chat_date").val()?"":$("#chat_date").val();$flag=0;if("disappearing"!=msg_option.trim()){if(""==$messageText.trim()&&""==$messageImage){$(".message-input").addClass("error");$flag++}else $(".message-input").removeClass("error");if(""==$messageTime.trim()){$(".message-time-input").addClass("error");$flag++}else $(".message-time-input").removeClass("error");if(""!=$messageDate)if($messageDate.match(date_regex)){$messageDate;$(".message-date-input").removeClass("error");$(".error-msg").html("").hide()}else if("otherdate"==$("#chat_date").val()){$messageDate="";$(".error-msg").html('<ul><li>The date format should be like this: ("26 November 2003")</li><li>Make sure the first letters of "Today," "Yesterday," and "Month Name" are capitalized.</li></ul>').show();$(".message-date-input").addClass("error");$flag++}}console.log($flag);if(0==$flag){$messageSendType="Receive"==$messageSendType?"receive":"sent";($replyHtml="")!=$(".temp-reply-box").html().trim()&&($replyHtml=$(".temp-reply-box").html());var e=Number($(".messagedisappearing-box-num").val()),s=getMessageBoxHtml($data={msg_option:msg_option,msgdis:msgdis,disnum:e,message_box_id:$messageBoxId,message_text:$messageText,message_time:$messageTime,message_send_type:$messageSendType,message_status:$messageStatus,sender_name:$senderName,message_image:$messageImage,message_date:$messageDate,message_color:$messageColor,reply_html:$replyHtml}),t=$(s).hide();if(""==$messageBoxId){$(".whatsapp-body").append(t);0<$(".whatsapp-body .remove").length?$(".whatsapp-body .remove").fadeTo(250,0,function(){$(".whatsapp-body .remove").remove();t.fadeIn(500)}):t.fadeIn(500)}else{$messageSendTypeCls="receive"==$messageSendType?"received":"sent";$("#message-box"+$messageBoxId).removeClass("message-received message-sent").addClass("message-"+$messageSendTypeCls);$("#message-box"+$messageBoxId).html(t);t.fadeIn(500)}}$(".message-input,.hidden-message-image,.sender-name-input,.message-date-input,.message-image-input,.message-box-id").val("");$(".date-label.new").removeClass("new");jQuery(".fileinput-new,.message-status-main-div").show();jQuery(".file-exists,.sender-name-main-div").hide();jQuery(".file-preview,.temp-reply-box").html("");$('input[name="message-send-type"]').prop("checked",!1);$("#sent,#message_sent").prop("checked",!0);$(".close-btn").click();return!1});$("body").on("change",".profile2,.profile1",function(e){var a=$(this).val().split(".").pop();if("jpg"==a.toLowerCase()||"jpeg"==a.toLowerCase()||"png"==a.toLowerCase()||"svg"==a.toLowerCase()){function s(e){i=e}var t,a=e.target.files,i="";if(a&&0<a.length){e=a[0];URL&&s(URL.createObjectURL(e));if(FileReader){(t=new FileReader).onload=function(e){s(t.result)};t.readAsDataURL(e)}}$(this).parents(".chat_image_box").css("background-image","url("+i+")");$(this).parents(".chat_image_box").data("imageurl",i)}else{$("#error_massage").show().html("<span>You have uploaded an invalid logo file type.</span>");setTimeout(function(){$("#error_massage").hide().html("")},6e3)}});function getMessageBoxHtml(e){console.log("hello");$base_url=$("#js_data").data("base-url");$num=Number($(".message-box-num").val())+1;$senderName=l=$userTCls="";if($("#dark_theme").prop("checked")){$lcls="#202c33";$rcls="#005c4b"}else{$lcls="#ffffff";$rcls="#e6ffda"}if("receive"==e.message_send_type){var a="message-received",s="whatsapp-received",t="received-carat",i="left",n='<span class="anroid-left-carat"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 7 12.19" height="21" width="12"><path d="M1.81,1H7V12.19L.53,3.57C-.53,2.16,0,1,1.81,1Z" style="isolation:isolate;opacity:0.12999999523162842"/><path class="msg-arrow-left" d="M1.81,0H7V11.19L.53,2.57C-.53,1.16,0,0,1.81,0Z" style="fill:'+$lcls+'"/></svg></span>',r='<span class="iphone-left-carat"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.97 24" height="19" width="10"><path d="M0,15.77a25.86,25.86,0,0,0,11.38,7.35A38,38,0,0,0,20,24c.1-6.37-2.11-12.74-2-19.12a25,25,0,0,1-6.83,7.36A19.08,19.08,0,0,1,0,15.77Z" style="opacity:0.13"/><path class="msg-arrow-left" d="M0,14.88a25.87,25.87,0,0,0,11.38,7.36,38,38,0,0,0,8.59.88c0-3.18-2-18.62-2.08-23.12a13.93,13.93,0,0,1-2.5,7.52,15.34,15.34,0,0,1-4.25,3.83A19,19,0,0,1,0,14.88Z" style="fill:'+$lcls+'"/></svg></sapn>';if(""!=e.sender_name.trim()){$("#message-box"+($num-1)).find(".sender-name").text()!=e.sender_name&&($userTCls="other-sender");$senderName='<p class="mname sender-name" style="color : '+e.message_color+'" data-color="'+e.message_color+'">'+e.sender_name+"</p>"}o=""}else{var a="message-sent",s="whatsapp-sent",t="sent-carat",i="right",n='<span class="anroid-right-carat"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 7 12.19" height="21" width="12"> <path d="M5.19,1H0V12.19L6.47,3.57C7.53,2.16,7,1,5.19,1Z" style="isolation:isolate;opacity:0.12999999523162842"/><path class="msg-arrow-right" d="M5.19,0H0V11.19L6.47,2.57C7.53,1.16,7,0,5.19,0Z" style="fill:'+$rcls+'"/></svg></span>',r='<span class="iphone-right-carat"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.97 24" height="19" width="10"><path d="M20,15.77A25.8,25.8,0,0,1,8.59,23.12,37.88,37.88,0,0,1,0,24C-.1,17.63,2.11,11.26,2,4.88a25.11,25.11,0,0,0,6.83,7.36A19.12,19.12,0,0,0,20,15.77Z" style="opacity:0.13"/><path class="msg-arrow-right" d="M20,14.88A25.81,25.81,0,0,1,8.59,22.24,37.88,37.88,0,0,1,0,23.12C0,19.94,2,4.5,2.08,0A13.88,13.88,0,0,0,4.59,7.52a15.18,15.18,0,0,0,4.24,3.83A19,19,0,0,0,20,14.88Z" style="fill:'+$rcls+'"/></svg></span>',o="",d=""==e.message_text.trim()?'style="fill: #ffffff;"':'style="fill: #8696a0;"';"sending"==e.message_status&&(o='<div class="message-status msg-status" data-status="sending"><svg viewBox="0 0 16 15" height="15" width="16" preserveAspectRatio="xMidYMid meet" '+d+' version="1.1" x="0px" y="0px" enable-background="new 0 0 16 15" xml:space="preserve"><path d="M9.75,7.713H8.244V5.359c0-0.276-0.224-0.5-0.5-0.5H7.65c-0.276,0-0.5,0.224-0.5,0.5v2.947 c0,0.276,0.224,0.5,0.5,0.5h0.094c0.001,0,0.002-0.001,0.003-0.001S7.749,8.807,7.75,8.807h2c0.276,0,0.5-0.224,0.5-0.5V8.213 C10.25,7.937,10.026,7.713,9.75,7.713z M9.75,2.45h-3.5c-1.82,0-3.3,1.48-3.3,3.3v3.5c0,1.82,1.48,3.3,3.3,3.3h3.5 c1.82,0,3.3-1.48,3.3-3.3v-3.5C13.05,3.93,11.57,2.45,9.75,2.45z M11.75,9.25c0,1.105-0.895,2-2,2h-3.5c-1.104,0-2-0.895-2-2v-3.5 c0-1.104,0.896-2,2-2h3.5c1.105,0,2,0.896,2,2V9.25z"></path></svg></div>');"sent"==e.message_status&&(o='<div class="message-status msg-status" data-status="sent"><svg viewBox="0 0 12 11" height="11" width="12" preserveAspectRatio="xMidYMid meet" '+d+'><path d="M11.1549 0.652832C11.0745 0.585124 10.9729 0.55127 10.8502 0.55127C10.7021 0.55127 10.5751 0.610514 10.4693 0.729004L4.28038 8.36523L1.87461 6.09277C1.8323 6.04622 1.78151 6.01025 1.72227 5.98486C1.66303 5.95947 1.60166 5.94678 1.53819 5.94678C1.407 5.94678 1.29275 5.99544 1.19541 6.09277L0.884379 6.40381C0.79128 6.49268 0.744731 6.60482 0.744731 6.74023C0.744731 6.87565 0.79128 6.98991 0.884379 7.08301L3.88047 10.0791C4.02859 10.2145 4.19574 10.2822 4.38194 10.2822C4.48773 10.2822 4.58929 10.259 4.68663 10.2124C4.78396 10.1659 4.86436 10.1003 4.92784 10.0156L11.5738 1.59863C11.6458 1.5013 11.6817 1.40186 11.6817 1.30029C11.6817 1.14372 11.6183 1.01888 11.4913 0.925781L11.1549 0.652832Z"></path></svg></div>');"delivere"==e.message_status&&(o='<div class="message-status msg-status" data-status="delivere"><svg viewBox="0 0 16 11" height="11" width="16" preserveAspectRatio="xMidYMid meet" '+d+'><path d="M11.0714 0.652832C10.991 0.585124 10.8894 0.55127 10.7667 0.55127C10.6186 0.55127 10.4916 0.610514 10.3858 0.729004L4.19688 8.36523L1.79112 6.09277C1.7488 6.04622 1.69802 6.01025 1.63877 5.98486C1.57953 5.95947 1.51817 5.94678 1.45469 5.94678C1.32351 5.94678 1.20925 5.99544 1.11192 6.09277L0.800883 6.40381C0.707784 6.49268 0.661235 6.60482 0.661235 6.74023C0.661235 6.87565 0.707784 6.98991 0.800883 7.08301L3.79698 10.0791C3.94509 10.2145 4.11224 10.2822 4.29844 10.2822C4.40424 10.2822 4.5058 10.259 4.60313 10.2124C4.70046 10.1659 4.78086 10.1003 4.84434 10.0156L11.4903 1.59863C11.5623 1.5013 11.5982 1.40186 11.5982 1.30029C11.5982 1.14372 11.5348 1.01888 11.4078 0.925781L11.0714 0.652832ZM8.6212 8.32715C8.43077 8.20866 8.2488 8.09017 8.0753 7.97168C7.99489 7.89128 7.8891 7.85107 7.75791 7.85107C7.6098 7.85107 7.4892 7.90397 7.3961 8.00977L7.10411 8.33984C7.01947 8.43717 6.97715 8.54508 6.97715 8.66357C6.97715 8.79476 7.0237 8.90902 7.1168 9.00635L8.1959 10.0791C8.33132 10.2145 8.49636 10.2822 8.69102 10.2822C8.79681 10.2822 8.89838 10.259 8.99571 10.2124C9.09304 10.1659 9.17556 10.1003 9.24327 10.0156L15.8639 1.62402C15.9358 1.53939 15.9718 1.43994 15.9718 1.32568C15.9718 1.1818 15.9125 1.05697 15.794 0.951172L15.4386 0.678223C15.3582 0.610514 15.2587 0.57666 15.1402 0.57666C14.9964 0.57666 14.8715 0.635905 14.7657 0.754395L8.6212 8.32715Z"></path></svg></div>');"read"==e.message_status&&(o='<div class="message-status msg-status" data-status="read"><svg viewBox="0 0 16 11" height="11" width="16" preserveAspectRatio="xMidYMid meet" style="fill: #53bdeb;"><path d="M11.0714 0.652832C10.991 0.585124 10.8894 0.55127 10.7667 0.55127C10.6186 0.55127 10.4916 0.610514 10.3858 0.729004L4.19688 8.36523L1.79112 6.09277C1.7488 6.04622 1.69802 6.01025 1.63877 5.98486C1.57953 5.95947 1.51817 5.94678 1.45469 5.94678C1.32351 5.94678 1.20925 5.99544 1.11192 6.09277L0.800883 6.40381C0.707784 6.49268 0.661235 6.60482 0.661235 6.74023C0.661235 6.87565 0.707784 6.98991 0.800883 7.08301L3.79698 10.0791C3.94509 10.2145 4.11224 10.2822 4.29844 10.2822C4.40424 10.2822 4.5058 10.259 4.60313 10.2124C4.70046 10.1659 4.78086 10.1003 4.84434 10.0156L11.4903 1.59863C11.5623 1.5013 11.5982 1.40186 11.5982 1.30029C11.5982 1.14372 11.5348 1.01888 11.4078 0.925781L11.0714 0.652832ZM8.6212 8.32715C8.43077 8.20866 8.2488 8.09017 8.0753 7.97168C7.99489 7.89128 7.8891 7.85107 7.75791 7.85107C7.6098 7.85107 7.4892 7.90397 7.3961 8.00977L7.10411 8.33984C7.01947 8.43717 6.97715 8.54508 6.97715 8.66357C6.97715 8.79476 7.0237 8.90902 7.1168 9.00635L8.1959 10.0791C8.33132 10.2145 8.49636 10.2822 8.69102 10.2822C8.79681 10.2822 8.89838 10.259 8.99571 10.2124C9.09304 10.1659 9.17556 10.1003 9.24327 10.0156L15.8639 1.62402C15.9358 1.53939 15.9718 1.43994 15.9718 1.32568C15.9718 1.1818 15.9125 1.05697 15.794 0.951172L15.4386 0.678223C15.3582 0.610514 15.2587 0.57666 15.1402 0.57666C14.9964 0.57666 14.8715 0.635905 14.7657 0.754395L8.6212 8.32715Z"></path></svg></div>')}d="";if(""==e.message_box_id){d+='<div class="message '+a+" is-not message-box darg-icon "+$userTCls+'" id="message-box'+$num+'">';$(".message-box-num").val($num)}else $num=e.message_box_id;var l=""!=e.reply_html||""!=e.message_image&&""!=e.message_text?'<div class="message-read-status"><p class="text-msg">'+e.message_text.trim()+'</p><i class="fa fa-pencil" aria-hidden="true" onclick="editMsg('+$num+", `"+e.message_send_type+'`)"></i><span class="space-ex"></span></div>':'<p class="text-msg">'+e.message_text.trim()+'</p><i class="fa fa-pencil" aria-hidden="true" onclick="editMsg('+$num+", `"+e.message_send_type+'`)"></i><span class="space-ex"></span>';""!=e.message_image&&(a=""!=e.message_text?'<div class="message-read-status"><p class="text-msg">'+e.message_text.trim()+'</p><span class="space-ex"></span></div>':"",l='<div class="sent-received-img '+(""==e.message_text.trim()?"only-img":"")+'"><img src="'+e.message_image+'" class="msg-image" alt="Chat Image"><i class="fa fa-pencil" aria-hidden="true" onclick="editMsg('+$num+", `"+e.message_send_type+'`)"></i> </div>'+a);""!=e.reply_html&&(l=e.reply_html+l);$idateVal="Today"!=e.message_date&&"Yesterday"!=e.message_date?getIdate(new Date(e.message_date)):e.message_date;if(0<$(".date-label.new").length){$(".date-label.new").find(".edit-text span.date-text").html(e.message_date);$(".date-label.new").find(".edit-text span.iphone-date-text").html($idateVal);$(".date-label.new").find(".main-input-text.date").val(e.message_date);$(".date-label.new").find(".main-input-text.iphone-date").val($idateVal)}else{var a=$("#iphone_wp").prop("checked")?'style="display:none"':'style="display: block;"',p=$("#android_wp").prop("checked")?'style="display:none"':'style="display: block;"';$lableNum=Number($(".lable-box-num").val())+1;$dateLabel=""!=e.message_date.trim()?'<div class="date-label input-main-div darg-icon new"><p class="text-name d-flex align-items-center m-0 edit-text" onclick="editText($(this));"><span class="date-text date'+$lableNum+'-text" '+a+">"+e.message_date+'</span><span class="iphone-date-text iphone-date'+$lableNum+'-text" '+p+">"+$idateVal+'</span><i class="fa fa-pencil" aria-hidden="true"></i><span class="btn-remove" onclick="deleteDate($(this))"><i class="fa fa-times-circle" aria-hidden="true"></i></span></p><div class="info-wrap p-0"><input class="text-name wp-head-name main-input-text date'+$lableNum+'-input" data-class="date'+$lableNum+'" value="'+e.message_date+'"><span class="tooltip-info date-info-icon" data-toggle="tooltip" data-tooltip-title="The date format should be like this: (“26 November 2003”), Make sure the first letters of “Today”, “Yesterday”, and “Month Name” are capitalized."><i class="fa fa-info-circle" aria-hidden="true"></i></span></div></div>':"";""!=e.message_box_id?$($dateLabel).insertBefore("#message-box"+$num):d=$dateLabel+d;$(".lable-box-num").val($lableNum)}a=$("#iphone_wp").prop("checked")?'style="display:none"':"",p=$("#android_wp").prop("checked")?'style="display:none"':"";d+='<div class="message-container u-table '+s+'"><div class="message-message u-tableCell u-alignBottom"><div class="message-bubble Caret Caret-'+i+' whatsapp-caret"><div class="whatsapp-text-img '+t+'" '+a+">"+n+'</div><div class="message-text whatsapp-text">'+$senderName+l+'<div class="msg-activity"><span class="msg-time" data-time="'+e.message_time+'">'+onTimeChange(e.message_time).toLowerCase()+"</span>"+o+'</div><div class="edit-delete-popup" data-messageboxid="'+$num+'" data-type="'+e.message_send_type+'"><i class="fa fa-trash delete-msg btn-remove" onclick="deleteMsg('+$num+", `"+e.message_send_type+'`)" aria-hidden="true"></i><i class="fa fa-reply reply-msg btn-remove" onclick="replyMsg('+$num+", `"+e.message_send_type+'`)" aria-hidden="true"></i></div></div><div class="iphone-bottom" '+p+" >"+r+'</div></div></div></div><div class="message-footer"><span class="message-footerItem"></span></div><div class="clearfix"></div>';console.log(e);if("disappearing"!=e.msg_option)return""==e.message_box_id&&(d+="</div>"),d;s=$("#iphone_wp").prop("checked")?"chat-timer-ios":"",i=e.msgdis,t=Number($(".messagedisappearing-box-num").val()),a='<div class="chat-timer-wrap input-main-div '+s+'" id="disappearing-box-'+(t+1)+'"><div class="edit-text" onclick="editText($(this));"><p class="timer-msg disappearing'+(t+1)+'-text " >'+i+'</p><i class="fa fa-pencil" aria-hidden="true"></i></div><textarea class="text-name main-input-text disappear-input disappearing'+(t+1)+'-input" data-class="disappearing'+(t+1)+'"  style="display: none;">'+i+'</textarea><span class="btn-remove" onclick="deleteDatedisappear($(this))"><i class="fa fa-times-circle" aria-hidden="true"></i></span></div>';$(".messagedisappearing-box-num").val(t+1);return a}$("#profile-img").on("change",function(){profileCrop(this)});function profileCrop(e){var a=$(e).val().split(".").pop();if("jpg"==a.toLowerCase()||"jpeg"==a.toLowerCase()||"png"==a.toLowerCase()||"svg"==a.toLowerCase())if(e.files&&e.files[0]){$("#crop-profile").attr("style","width: 265px; height: 155px;");$("#crop-profile").removeClass("hide");$(".img-profile-main-tag").addClass("hide");a=new FileReader;a.onload=function(e){$profileCrop.croppie("bind",{url:e.target.result}).then(function(){console.log("jQuery bind complete")})};a.readAsDataURL(e.files[0]);$("#crop-profile-modal").modal("show")}else{$(e).val("");$(".error_msg").html('<div class="msg-pop error-pop"><p>File formats should be .jpg, .jpeg, .png, and .svg.</p></div>');$(".error_msg").attr("style","display:flax");setTimeout(function(){$(".error_msg").attr("style","display:none")},6e3)}else{$(e).val("");$(".error_msg").html('<div class="msg-pop error-pop"><p>File formats should be .jpg, .jpeg, .png, and .svg.</p></div>');$(".error_msg").attr("style","display:flax");setTimeout(function(){$(".error_msg").attr("style","display:none")},6e3)}}$profileCrop=$("#crop-profile").croppie({viewport:{width:150,height:150,type:"circle"},showZoomer:!0,enableExif:!1});$("#profile-img").on("change",function(){profileCrop(this)});$(".p-close-btn-modal").on("click",function(){$("#profile-img").val("");$("#crop-profile").addClass("hide");$(".img-profile-main-tag").removeClass("hide")});$(".btn-crop-profile").click(function(){$profileCrop.croppie("result",{type:"canvas",size:"viewport"}).then(function(e){$(".item-img-output").attr("src",e);$("#crop-profile-modal").modal("hide");$(".img-profile-main-tag").removeClass("hide");$("#crop-profile").addClass("hide");e=$("#js_data").data("base_url");$(".insta_privew_profile").attr("src",e+"https://www.quenq.com/fake-social/.generator/assets/images/addimgbg.jpg");$("#profile-img").val("")})});$("#background-img").on("change",function(){backgroundCrop(this)});function backgroundCrop(e){var a=$(e).val().split(".").pop();if("jpg"==a.toLowerCase()||"jpeg"==a.toLowerCase()||"png"==a.toLowerCase()||"svg"==a.toLowerCase())if(e.files&&e.files[0]){$("#crop-background").attr("style","width: 400px; height: 400px;");$("#crop-background").removeClass("hide");$(".img-background-main-tag").addClass("hide");a=new FileReader;a.onload=function(e){$backgroundCrop.croppie("bind",{url:e.target.result}).then(function(){console.log("jQuery bind complete")})};a.readAsDataURL(e.files[0]);$("#crop-background-modal").modal("show")}else{$(e).val("");$(".error_msg").html('<div class="msg-pop error-pop"><p>File formats should be .jpg, .jpeg, .png, and .svg.</p></div>');$(".error_msg").attr("style","display:flax");setTimeout(function(){$(".error_msg").attr("style","display:none")},6e3)}else{$(e).val("");$(".error_msg").html('<div class="msg-pop error-pop"><p>File formats should be .jpg, .jpeg, .png, and .svg.</p></div>');$(".error_msg").attr("style","display:flax");setTimeout(function(){$(".error_msg").attr("style","display:none")},6e3)}}$backgroundCrop=$("#crop-background").croppie({viewport:{width:365,height:365},showZoomer:!0,enableExif:!1});$(".p-close-btn-modal").on("click",function(){$("#background-img").val("");$("#crop-background").addClass("hide");$(".img-background-main-tag").removeClass("hide")});$(".btn-crop-background").click(function(){$backgroundCrop.croppie("result",{type:"canvas",size:"viewport"}).then(function(e){$("#mainbodydiv").attr("style","background-image: url("+e+");");$("#crop-background-modal").modal("hide");$(".img-background-main-tag").removeClass("hide");$("#crop-background").addClass("hide");e=$("#js_data").data("base_url");$(".insta_privew_background").attr("src",e+"https://www.quenq.com/fake-social/.generator/assets/images/addimgbg.jpg");$("#background-img").val("")})});$("#remove-background-btn").click(function(){if(confirm("Are you sure you want to remove background!")){var e=$("#js_data").data("base-url");$("#mainbodydiv").attr("style","background-image: url("+e+"assets/images/Whatsapp_background_img.jpg);")}});